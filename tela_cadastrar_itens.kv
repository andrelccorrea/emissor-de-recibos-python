#:kivy 1.11
# converte as cores de HEX para o padrão rgba float do kivy
#:import rgba kivy.utils.rgba

# padrão para os Buttons dessa tela
<Button>:
    background_color: rgba('#973e95')
    # força a utilizar a altura informada
    size_hint_y: None
    height: dp(50)
    # força a utilizar a largura informada
    size_hint_x: None
    width: dp(100)
    # para o texto não extrapolar o tamanho do widget
    text_size: self.size
    halign: "center"
    valign: "center"

# padrão para os TextInputs dessa tela
<TextInput>:
    # força a utilizar a altura informada
    size_hint_y: None
    height: dp(30)
    # força a utilizar a largura informada
    size_hint_x: None
    width: dp(500)

<TelaCadastrarItens>:
    # cor de fundo
    canvas.before:
        Color: 
            rgba: rgba('#c38bbf')
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        orientation: 'horizontal'
        # cria o label
        Label:
            text: 'Descrição'
            # cor da fonte
            color: 0, 0, 0, 1
            # define o tamanho do texto para o tamanho do label
            text_size: self.size
            # alinha para a esquerda
            halign: 'left'
            # alinha verticalmente para o meio do label
            valign: 'middle'
            # com 15% de largura e 09% de altura (medida de referencia é o layout)
            size_hint: (.15, .09)
            # posicionando a 1% da esquerda e 90% do rodapé (referência é rodapé esquerdo (0,0))
            pos_hint: {'x':.01, 'y':.90 }
            # cor de fundo (para referência)
            # canvas.before:
            #     Color:
            #         rgba: (.3, .6, .7, 1)
            #     Rectangle:
            #         pos: self.pos
            #         size: self.size
        # cria o input de texto
        TextInput:
            # id do label
            id: descricao
            # texto de ajuda
            hint_text: 'Informe a descrição do item'
            # foco por padrão nele
            focus: True 
            # permite mais de uma linha
            multiline: True
            # com 50% de largura e 30% de altura
            size_hint: (.50, .30)
            # posicionado a 01% da esquerda e 61% do rodapé
            pos_hint: {'x':.01, 'y':.61 }      
        # cria o label
        Label:
            text: 'Preço'
            # cor da fonte
            color: 0, 0, 0, 1
            # define o tamanho do texto para o tamanho do label
            text_size: self.size
            # alinha para a esquerda
            halign: 'left'
            # alinha verticalmente para o meio do label
            valign: 'middle'
            # com 15% de largura e 09% de altura (medida de referencia é o layout)
            size_hint: (.15, .09)
            # posicionando a 01% da esquerda e 50% do rodapé (referência é rodapé esquerdo (0,0))
            pos_hint: {'x':.01, 'y':.50 }
        # cria o input de números
        TextInput:
            # id do label
            id: preco
            # define o filtro para somente números
            input_filter: 'float'
            # texto de ajuda
            hint_text: 'Informe o preço do item'
            # permite mais de uma linha
            multiline: True
            # com 50% de largura e 10% de altura
            size_hint: (.50, .10)
            # posicionado a 01% da esquerda e 41% do rodapé
            pos_hint: {'x':.01, 'y':.41 }
    BoxLayout:
        Button:
            id: voltar
            text: 'Voltar'
            on_press: 
                root.manager.transition.direction = 'right'
                root.manager.current = 'tela_inicial'
        Button:
            id: gravar
            width: root.width - voltar.width
            text: 'Gravar'
            on_press: if root.validar_campos() == True: root.cadastrar_item()